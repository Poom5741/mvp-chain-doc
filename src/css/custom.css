@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('katex/dist/katex.min.css');

:root {
  --ifm-color-primary: #111827; /* brand primary */
  --ifm-link-color: #F59E0B;   /* accent */
  --brand-bg: #ffffff;
  --brand-bg-dark: #0b1020;
  --brand-muted: #6b7280; /* gray-500 */
}

/* Dark theme core variables for strong contrast */
html[data-theme='dark'] {
  --ifm-background-color: #0b1020;
  --ifm-font-color-base: #e5e7eb;
  --ifm-navbar-background-color: #0b1020;
  --ifm-navbar-link-color: #e5e7eb;
  --ifm-color-primary: #F59E0B; /* keep accent readable on dark */
  --ifm-code-background: #0f172a; /* slate-900-ish */
  --ifm-toc-border-color: #1f2937;
}

/* Utility helpers for MDX blocks */
.hero-gradient {
  background: radial-gradient(1200px 600px at 10% 10%, rgba(245, 158, 11, 0.15), transparent 50%),
              radial-gradient(1200px 600px at 90% 0%, rgba(17, 24, 39, 0.12), transparent 50%);
}
html[data-theme='dark'] .hero-gradient {
  background: radial-gradient(1200px 600px at 10% 10%, rgba(245, 158, 11, 0.20), transparent 50%),
              radial-gradient(1200px 600px at 90% 0%, rgba(15, 23, 42, 0.35), transparent 55%);
}

/* Global polish for MDX content */
@layer base {
  .theme-doc-markdown h1 {
    @apply text-gray-900 dark:text-gray-100 tracking-tight animate-fade-in-up;
  }
  .theme-doc-markdown h2 {
    @apply text-gray-900 dark:text-gray-100 border-l-4 border-accent pl-3 mt-8 mb-3 animate-fade-in-up;
  }
  .theme-doc-markdown h3 {
    @apply text-gray-800 dark:text-gray-200 mt-6 mb-2;
  }
  .theme-doc-markdown p {
    @apply text-gray-700 dark:text-gray-300 leading-relaxed mt-3;
  }
  .theme-doc-markdown a {
    @apply text-[color:var(--ifm-link-color)] hover:underline;
  }
  .theme-doc-markdown code:not(pre code) {
    @apply bg-gray-100 dark:bg-slate-800 rounded px-1 py-0.5 text-[0.95em];
  }
  .theme-doc-markdown table {
    @apply w-full text-left border-collapse overflow-hidden rounded-lg;
  }
  .theme-doc-markdown thead {
    @apply bg-gray-50 dark:bg-gray-900/40;
  }
  .theme-doc-markdown tbody tr:nth-child(odd) {
    @apply bg-gray-50/40 dark:bg-gray-900/30;
  }
  .theme-doc-markdown ul {
    @apply list-disc pl-6 mt-3 space-y-2;
  }
  .theme-doc-markdown ol {
    @apply list-decimal pl-6 mt-3 space-y-2;
  }
  .theme-doc-markdown blockquote {
    @apply border-l-4 border-accent pl-4 italic text-gray-700 dark:text-gray-300 bg-white/60 dark:bg-black/30 rounded-r-lg py-2;
  }
  /* Admonitions */
  .theme-admonition,
  .alert {
    @apply border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm;
  }
}

/* Mermaid diagrams container styling */
.theme-doc-markdown .mermaid {
  @apply bg-white/70 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-3;
}

/* Improve code block contrast in dark mode */
html[data-theme='dark'] pre code {
  @apply bg-transparent text-gray-200;
}

/* Tabs spacing harmony */
.tabs {
  @apply mt-4 mb-2;
}
.tabs__item {
  @apply text-gray-700 dark:text-gray-300;
}

/* Figure component defaults */
.mdx-figure {
  @apply my-4 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-black/30;
}
.mdx-figure img {
  @apply w-full h-auto;
}
.mdx-figure figcaption {
  @apply px-4 py-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/30;
}

/* Page header helper */
.page-header {
  @apply rounded-xl p-6 md:p-8 border border-gray-200 dark:border-gray-800 shadow-sm hero-gradient animate-fade-in-up bg-white/80 dark:bg-black/30;
}
